for _, v in pairs(game.CoreGui:GetChildren()) do
	if v.Name == "UILib" then
		v:Destroy()
	end
end

local UILib = Instance.new("ScreenGui")

UILib.Name = "UILib"
UILib.Parent = game.CoreGui

local function getNextWindowPos()
	local biggest = 0;
	local ok = nil;
	for i, v in pairs(UILib:GetChildren()) do
		if v.Position.X.Offset > biggest then
			biggest = v.Position.X.Offset
			ok = v;
		end
	end
	if biggest == 0 then
		biggest = biggest + 5;
	else
		biggest = biggest + ok.Size.X.Offset + 5;
	end
	
	return biggest;
end

local Library = {}

function Library:Window(title)
local TopFrame = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local FarmsTab = Instance.new("TextLabel")
local MinimizeImage = Instance.new("ImageButton")
local Minimize = Instance.new("TextButton")
local Bar = Instance.new("Frame")

ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

TopFrame.Name = "TopFrame"
TopFrame.Parent = ScreenGui
TopFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
TopFrame.Position = UDim2.new(0.00681302045, 0, 0.0122850118, 0)
TopFrame.Size = UDim2.new(0, 160, 0, 44)
TopFrame.Active = true
TopFrame.Draggable = true

UICorner.CornerRadius = UDim.new(0, 5)
UICorner.Parent = TopFrame

FarmsTab.Name = "FarmsTab"
FarmsTab.Parent = TopFrame
FarmsTab.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
FarmsTab.BackgroundTransparency = 1.000
FarmsTab.Position = UDim2.new(0.193749994, 0, 0.0227273162, 0)
FarmsTab.Size = UDim2.new(0, 97, 0, 41)
FarmsTab.Font = Enum.Font.SourceSans
FarmsTab.Text = title
FarmsTab.TextColor3 = Color3.fromRGB(255, 255, 255)
FarmsTab.TextSize = 25.000

MinimizeImage.Name = "MinimizeImage"
MinimizeImage.Parent = TopFrame
MinimizeImage.BackgroundTransparency = 1.000
MinimizeImage.Position = UDim2.new(0.796999991, 0, 0.230000004, 0)
MinimizeImage.Size = UDim2.new(0, 25, 0, 25)
MinimizeImage.Image = "rbxassetid://3926305904"
MinimizeImage.ImageRectOffset = Vector2.new(404, 284)
MinimizeImage.ImageRectSize = Vector2.new(36, 36)

Minimize.Name = "Minimize"
Minimize.Parent = TopFrame
Minimize.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Minimize.BackgroundTransparency = 1.000
Minimize.Position = UDim2.new(0.796999991, 0, 0.230000004, 0)
Minimize.Size = UDim2.new(0, 25, 0, 25)
Minimize.ZIndex = 2
Minimize.Font = Enum.Font.SourceSans
Minimize.Text = " "
Minimize.TextColor3 = Color3.fromRGB(0, 0, 0)
Minimize.TextSize = 14.000

Bar.Name = "Bar"
Bar.Parent = TopFrame
Bar.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
Bar.BorderSizePixel = 0
Bar.Position = UDim2.new(0, 0, 1, 0)
Bar.Size = UDim2.new(0, 160, 0, 2)

UICorner_2.CornerRadius = UDim.new(0, 3)
UICorner_2.Parent = Bar

local Lib = {}

function Lib:Toggle(name, callback)
local UICorner_2 = Instance.new("UICorner")
local Container = Instance.new("Frame")
local UICorner_3 = Instance.new("UICorner")
local ToggleName = Instance.new("TextLabel")
local ToggleBack = Instance.new("Frame")
local UICorner_4 = Instance.new("UICorner")
local Toggle = Instance.new("TextButton")
local UICorner_5 = Instance.new("UICorner")

Container.Name = "Container"
Container.Parent = TopFrame
Container.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Container.Position = UDim2.new(0, 0, 1.0454545, 0)
Container.Size = UDim2.new(0, 160, 0, 48)

UICorner_3.CornerRadius = UDim.new(0, 5)
UICorner_3.Parent = Container

ToggleName.Name = "ToggleName"
ToggleName.Parent = Container
ToggleName.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ToggleName.BackgroundTransparency = 1.000
ToggleName.Position = UDim2.new(0.043750003, 0, 0.104166664, 0)
ToggleName.Size = UDim2.new(0, 95, 0, 38)
ToggleName.Font = Enum.Font.SourceSans
ToggleName.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleName.TextSize = 23.000
ToggleName.Text = name

ToggleBack.Name = "ToggleBack"
ToggleBack.Parent = Container
ToggleBack.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ToggleBack.Position = UDim2.new(0.637499988, 0, 0.249999836, 0)
ToggleBack.Size = UDim2.new(0, 50, 0, 23)

UICorner_4.CornerRadius = UDim.new(0, 4)
UICorner_4.Parent = ToggleBack

Toggle.Name = "Toggle"
Toggle.Parent = ToggleBack
Toggle.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
Toggle.Position = UDim2.new(-0.0199999996, 0, 0, 0)
Toggle.Size = UDim2.new(0, 26, 0, 23)
Toggle.Font = Enum.Font.SourceSans
Toggle.Text = name
Toggle.TextColor3 = Color3.fromRGB(0, 0, 0)
Toggle.TextSize = 14.000
Toggle.MouseButton1Click:Connect(function()
			if ToggleT == false then
				ToggleT = true
			else
				ToggleT = false
			end
			callback(ToggleT)
		end)
	end
end)

UICorner_5.CornerRadius = UDim.new(0, 5)
UICorner_5.Parent = Toggle

local function YMUZIB_fake_script()
	local script = Instance.new('Script', Minimize)

	local Mini = script.Parent.Parent.MinimizeImage
	local Button = script.Parent
	local Toggle = false
	local Contain = script.Parent.Parent.Container
	
	Button.MouseButton1Click:Connect(function()
		if Toggle == false then
			game:GetService("TweenService"):Create(Mini, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Rotation = 180}):Play();
			Contain:TweenSize(UDim2.new(0, 160,0, 0), nil, nil, 0.4, true)
			wait(0)
			Contain.Visible = false
			Toggle = true
		else
			game:GetService("TweenService"):Create(Mini, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Rotation = 0}):Play();
			Contain.Visible = true
			wait()
			Contain:TweenSize(UDim2.new(0, 160,0, 48), nil, nil, 0.1, true)
			Toggle = false
			end
	end)
end
coroutine.wrap(YMUZIB_fake_script)()
local function HUGBOQ_fake_script()
	local script = Instance.new('Script', Toggle)

	local T = script.Parent
	local Toggle = false
	
	T.MouseButton1Click:Connect(function()
		if Toggle == false then
			T:TweenPosition(UDim2.new(0.52, 0,0, 0))
			Toggle = true
		else
			T:TweenPosition(UDim2.new(-0.02, 0,0, 0))
			Toggle = false
		end
	end)
end
coroutine.wrap(HUGBOQ_fake_script)()

end
	
	return Lib
	
end

return Library
